<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Oszkar Sztanyo</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <!-- <meta content="Webflow" name="generator"> -->
  <!--  <link href="css/normalize.css" rel="stylesheet" type="text/css"> -->
  <link href="../css/mainstyle.css" rel="stylesheet" type="text/css">
  <link href="../css/opstyle.css" rel="stylesheet" type="text/css">
  <link href="../dist/output.css" rel="stylesheet">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="../images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="../images/webclip.png" rel="apple-touch-icon">

</head>
<body>
<div id="__bruh" class="bruh opacity-trans">
  <header class="navigation">
    <a href="../index.html"><img id="headerlogo" src="../assets/portfolio logo.svg" alt="logo" href="index.html"></a>
    <div class="button-nav">
      <a id="projects" class="button-nav-text" data-value="projects" href="../projects.html">Projects</a>
      <a id="info" class="button-nav-text" data-value="info" href="../info.html">Info</a>
      <a id="menu" class="button-nav-text" data-value="menu">Menu</a>
    </div>
  </header>
  <div class="project-container">
    <div class="project-title-box ptb-hidden">
        <!-- PROJECT YEAR AND TITLE  /DATAVALUE TOOO AAAAAAAAAA/-->
        <div class="project-year">{ 2022 }</div>
        <div data-value="Invasion" class="project-title">Invasion</div>
        <!-- BEHANCE LINK-->
        <a href="https://www.behance.net/gallery/132658429/Invasion" class="button-nav-text behance-btn" data-value="behance">Behance</a>
    </div>
    <div id="pcon" class="p-viewer-ui">
      <div class="p-canvas-container">
        <canvas id="p-canvas"></canvas>
        <div class="transition-overlay-box">
          <div class="p-nav-box-box">
            <div id="p-box-left" class="p-box"></div>
            <div id="p-box-right" class="p-box"></div>
          </div>
          <div class="overlay-effect-box">

            <div class="overlay-hack-style overlay-hack-active" data-value="////////////////////////////////////// \n /////////////////////////////////////// \n ///////////////////////////////////////// \n //////////////////////////////////////// \n /////////////////////////////////////// \n ///////////////////////////////////////// \n //////////////////////////////////////// \n "
             id="overlay-hack">//////////////////////////////////////<br>//////////////////////////////////////<br>//////////////////////////////////////<br>//////////////////////////////////////<br>//////////////////////////////////////<br>//////////////////////////////////////<br>//////////////////////////////////////<br>
            </div>
          </div>
        </div>
      </div>  

      <div class="p-nav-box">
        <div class="page-number">
          <div><span id="pnumber-prev">01</span>/<span id="image-length-p">09</span></div>
          <div class="red-dot"></div>
        </div>
        <div class="page-number p-right">
          <div><span id="pnumber-next">02</span>/<span id="image-length-n">09</span></div>
          <div class="red-dot"></div>
        </div>
      </div>
      <div class="page-nav">
        <div class="arrows" id="arrow-left">←</div>
        <div>{ <span id="pnumber-current"></span> }</div>
        <div class="arrows" id="arrow-right">→</div>
      </div>
    </div>
  </div>  

  <div class="project-bottom">
    <div class="project-info-box">
      <div class="project-title-box ptb-desktop">
        <!-- PROJECT YEAR AND TITLE  /DATAVALUE TOOO AAAAAAAAAA/-->
        <div class="project-year">{ 2022 }</div>
        <div id="p-title-bot" data-value="Invasion" class="project-title">Invasion</div>
        <!-- BEHANCE LINK-->
        <a id="be-btn" href="https://www.behance.net/gallery/132658429/Invasion" class="button-nav-text behance-btn" data-value="behance">Behance</a>
      </div>
      <div class="concept-box">
        <!-- CONCEPT DESC -->
        <div class="concept-text">
          In this project I chose 12 countries and had one of their famous landmarks be invaded
  by fictional or mythical lifeforms. Layout resembles Polaroid pictures, as if these were taken when the "disaster struck".
        </div>
        <div class="madeat">
          Made at the Media Design Insitute, EKCU, Eger, Hungary
        </div>
      </div>
    </div>
    <div class="move-between-projects">
      <!-- NEXT AND PREV PROJECT HTML -->
      <a href="neuekaine.html" data-value="PREV" id="prev-project">PREV</a>
      <a href="accordioff.html" data-value="NEXT" id="next-project">NEXT</a>
    </div>
  </div>


  <div id="burger" class="burger-container bc-hidden">
    <a id="menu-close" class="button-nav-text" data-value="close">close</a>
    <div class="nav-box">
      <a class="nav-box-el" id="nav-home" href="../index.html" data-value="home"> Home </a>
      <a class="nav-box-el" id="nav-projects" href="../projects.html" data-value="projects"> Projects </a>
      <a class="nav-box-el" id="nav-info" href="../info.html" data-value="info"> Info </a>
    </div>
  </div>

</div>


<!-- scripts -->
    
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=65880e74e0c14e285b0e9041" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script type="module" src="../js/ophacktext.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/ScrollToPlugin.min.js"></script>
    <script src="https://unpkg.com/split-type"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.33/dist/lenis.min.js"></script> 
    <script>

      
    // Projects button
  
    const overlayLetters = "1234567890";
  
  function startOverlayAnimation(element) {
    let interval = null;
    let iteration = 0;
  
    const targetValue = element.dataset.value;
  
    if (!targetValue) {
      return; // Exit if dataset.value is not set for the element
    }
  
    interval = setInterval(() => {
      element.innerText = element.innerText
        .split("")
        .map((letter, index) => {
          if (index < iteration) {
            return targetValue[index];
          }
  
          return overlayLetters[Math.floor(Math.random() * 10)];
        })
        .join("");
  
      if (iteration >= targetValue.length) {
        clearInterval(interval);
      }
  
      iteration += 1 / 5;
    }, 1);
  }




// Add your id here stupid for stupid effect START

startOverlayAnimation(document.querySelector("#overlay-hack"));
$("#overlay-hack").delay(100).queue(function() {
  $(this).removeClass("overlay-hack-active");
  $(this).dequeue();
});



// canvas image loading

// IMAGE SOURCES
$(document).ready(function() {
var canvas = $('#p-canvas')[0]; // Get the actual canvas element
var context = canvas.getContext('2d');
var images = [
  "pimages/invasion/inv1.webp",
  "pimages/invasion/inv2.webp",
  "pimages/invasion/inv3.webp",
  "pimages/invasion/inv4.webp",
  "pimages/invasion/inv5.webp",
  "pimages/invasion/inv6.webp",
  "pimages/invasion/inv7.webp",

]; 

// IMAGE SOURCES END
var currentImageIndex = 0;

var canvasHeight = parseInt(getComputedStyle(document.querySelector(".p-canvas-container")).getPropertyValue("height"));

var pconElement = document.getElementById("pcon");
var computedConStyle = getComputedStyle(pconElement);
var conPadding = parseInt(computedConStyle.paddingLeft) + parseInt(computedConStyle.paddingRight);

var bruhElement = document.getElementById("__bruh");
var computedStyle = getComputedStyle(bruhElement);
var padding = parseInt(computedStyle.paddingLeft) + parseInt(computedStyle.paddingRight);
var canvasWidth = window.innerWidth - (padding + conPadding);

function loadImage(index) {
  var img = new Image();
  img.onload = function() {
    // aspect ratio stuff
    var aspectRatio = img.width / img.height;
    var scaledWidth, scaledHeight;
    var offsetX, offsetY;

    // resolution magic
    scaledWidth = canvasWidth;
    scaledHeight = scaledWidth / aspectRatio;

    // center pos
    offsetX = (canvasWidth - scaledWidth) / 2;
    offsetY = (canvasHeight - scaledHeight) / 2;

    // resolution magic also?
    canvas.width = canvasWidth;
    canvas.height = canvasHeight;

    // Clear
    context.clearRect(0, 0, canvas.width, canvas.height);

    // Draw
    context.drawImage(img, offsetX, offsetY, scaledWidth, scaledHeight);

    function formatIndex(index) {
      index ++;
      return index.toString().padStart(2, '0');
    }

    // Log the current image number to the console
    console.log("Current image number:", formatIndex(currentImageIndex));

    //project navigation indicator

    document.getElementById('pnumber-current').innerText = formatIndex(currentImageIndex);
    document.getElementById('pnumber-next').innerText = formatIndex((currentImageIndex + 1) % images.length);
    document.getElementById('pnumber-prev').innerText = formatIndex((currentImageIndex - 1 + images.length) % images.length);
    document.getElementById('image-length-n').innerText = formatIndex(images.length - 1);
    document.getElementById('image-length-p').innerText = formatIndex(images.length - 1);



  };

  img.src = images[index];
}

var isNextImageRunning = false;
var isPreviousImageRunning = false;

function nextImage() {
  if (isNextImageRunning) {
    return;
  }
  
  isNextImageRunning = true;

  currentImageIndex = (currentImageIndex + 1) % images.length;
  startOverlayAnimation(document.querySelector("#overlay-hack"));
  $("#overlay-hack").addClass("overlay-hack-active");
  $("#arrow-right").addClass("arrow-right-anim");
  setTimeout(function() {
    loadImage(currentImageIndex);
    $("#arrow-right").removeClass("arrow-right-anim");
  }, 250);

  setTimeout(function() {
    $("#overlay-hack").removeClass("overlay-hack-active");

    isNextImageRunning = false;
  }, 500);
}

function previousImage() {
  if (isPreviousImageRunning) {
    return;
  }
  
  isPreviousImageRunning = true;

  currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
  startOverlayAnimation(document.querySelector("#overlay-hack"));
  $("#overlay-hack").addClass("overlay-hack-active");
  $("#arrow-left").addClass("arrow-left-anim");

  setTimeout(function() {
    loadImage(currentImageIndex);
    $("#arrow-left").removeClass("arrow-left-anim");
  }, 250);

  setTimeout(function() {
    $("#overlay-hack").removeClass("overlay-hack-active");

    isPreviousImageRunning = false;
  }, 500);
}

// load the first image
loadImage(currentImageIndex);

// event handlers for navigation
$('#arrow-right').click(function() {
  nextImage();
});
$('#arrow-left').click(function() {
  previousImage();
});

$('#p-box-right').click(function() {
  nextImage();
});
$('#p-box-left').click(function() {
  previousImage();
});

let isScrolling = false;

function handleScroll(event) {
  if (isScrolling) {
    return; // Ignore the scroll event if already scrolling
  }

  isScrolling = true;

  if (event.originalEvent.deltaY < 0) {
    previousImage();

  } else if (event.originalEvent.deltaY > 0) {
    nextImage();

  }

  setTimeout(() => {
    isScrolling = false; // Reset the flag variable after the delay
  }, 100); // Set the desired delay in milliseconds
}

// scroll event listener
$(document).on("wheel", handleScroll);


let pageWidth = $(window).width() || $('body').width();
let treshold = Math.max(1, Math.floor(0.01 * (pageWidth)));
let touchstartX = 0;
let touchstartY = 0;
let touchendX = 0;
let touchendY = 0;

const limit = Math.tan(45 * 1.5 / 180 * Math.PI);
const gestureZone = $('#__bruh');

gestureZone.on('touchstart', function(event) {
  touchstartX = event.changedTouches[0].screenX;
  touchstartY = event.changedTouches[0].screenY;
});

gestureZone.on('touchend', function(event) {
  touchendX = event.changedTouches[0].screenX;
  touchendY = event.changedTouches[0].screenY;
  handleGesture(event);
});

function handleGesture(e) {
  let x = touchendX - touchstartX;
  let y = touchendY - touchstartY;
  let xy = Math.abs(x / y);
  let yx = Math.abs(y / x);
  if (Math.abs(x) > treshold || Math.abs(y) > treshold) {
    if (yx <= limit) {
      if (x < 0) {
        previousImage();

      } else {
        nextImage();

      }
    }
    if (xy <= limit) {
      if (y < 0) {
        nextImage();

      } else {
        previousImage();

      }
    }
  } else {
    console.log("tap");
  }

}

var canSwipe = true;
  var swipeDelay = 100;
  /*click function start*/ {
    canSwipe = false;
    setTimeout(function() {
      canSwipe = true;
    }, swipeDelay);
  } /*click function end*/


});







// end of all

// end of all lol

    </script>
</body>
</html>